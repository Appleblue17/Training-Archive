<!DOCTYPE html><!--itfousFnAe64oZVD9xO4w--><html lang="en"><head><meta charSet="UTF-8"/><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/Training-Archive/_next/static/media/cc27cf3ff100ea21-s.p.ttf" as="font" crossorigin="" type="font/ttf"/><link rel="stylesheet" href="/Training-Archive/_next/static/css/f46a16dd4ad90ea1.css" data-precedence="next"/><link rel="stylesheet" href="/Training-Archive/_next/static/css/9f4210e542df69af.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/Training-Archive/_next/static/chunks/webpack-12683b4c0beed4e8.js"/><script src="/Training-Archive/_next/static/chunks/6ae3b393-4b033cbd06089d1e.js" async=""></script><script src="/Training-Archive/_next/static/chunks/255-1436767215191b46.js" async=""></script><script src="/Training-Archive/_next/static/chunks/main-app-e0c5a520a19df54e.js" async=""></script><script src="/Training-Archive/_next/static/chunks/1951f239-e4c7a40f4938f7cd.js" async=""></script><script src="/Training-Archive/_next/static/chunks/903-580aa120588c94fd.js" async=""></script><script src="/Training-Archive/_next/static/chunks/314-bdd16cf32a728af3.js" async=""></script><script src="/Training-Archive/_next/static/chunks/app/view/contests/%5Bcontest%5D/problems/%5Bproblem%5D/%5Bfile%5D/page-45187987e20c318a.js" async=""></script><link rel="icon" type="image/png" href="https://appleblue17.github.io/Training-Archive/archive-bot.png"/><title>Training Archive</title><meta name="next-size-adjust" content=""/><script src="/Training-Archive/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_e3f162 antialiased"><div hidden=""><!--$--><!--/$--></div><div class="flex min-h-screen justify-center py-4"><div class="mx-auto w-4/5"><header class="relative w-full rounded-lg py-2 text-slate-300"><a href="/Training-Archive"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="absolute -left-10 top-3 size-6 transition-colors hover:text-gray-400" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg></a><h1 class="text-2xl font-semibold tracking-wide">File Viewer</h1><p class="ml-4 mt-2 text-base text-gray-400"><span class="px-2 text-lg text-gray-200">/</span>2025-10-18 The 3rd Universal Cup. Stage 18: Southeastern Europe<span class="px-2 text-lg text-slate-300">/</span>E<span class="px-2 text-lg text-slate-300">/</span>code.cpp</p><div class="absolute right-8 top-2 flex items-center gap-2"><a href="/Training-Archive/contests/2025-10-18 The 3rd Universal Cup. Stage 18: Southeastern Europe/problems/E/code.cpp" download="" class="rounded bg-gray-700 px-3 py-1 text-sm text-white hover:bg-gray-600"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="mr-2 inline-block text-base" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>Download</a><a href="/Training-Archive/contests/2025-10-18 The 3rd Universal Cup. Stage 18: Southeastern Europe/problems/E/code.cpp" target="_blank" rel="noopener noreferrer" class="rounded bg-gray-700 px-3 py-1 text-sm text-white hover:bg-gray-600"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="mr-2 inline-block text-base" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>Raw File</a></div></header><main class="mt-4 flex w-full items-start justify-center gap-4"><div class="flex-grow"><div class="relative flex h-[85dvh] w-[62dvw] max-w-full rounded border-2 border-gray-600 bg-zinc-900"><button class="absolute right-6 top-4 z-10 rounded bg-gray-700 px-3 py-1 text-sm text-white hover:bg-gray-600"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="mr-1 inline-block" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>Copy</button><div class="relative flex-1 overflow-y-auto"><div class="absolute left-4 top-0"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="mr-1 inline-block text-gray-200" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg><span class="text-sm text-gray-400">cpp</span></div><div class="flex-1 py-5"><pre style="display:block;overflow-x:auto;padding:0.5em;color:#abb2bf;background:transparent"><code class="language-cpp" style="white-space:pre"><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">1</span><span style="color:#61aeee">#</span><span class="hljs-meta-keyword" style="color:#61aeee">include</span><span style="color:#61aeee"> </span><span style="color:#98c379">&lt;bits/stdc++.h&gt;</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">2</span><span></span><span style="color:#c678dd">using</span><span> </span><span style="color:#c678dd">namespace</span><span> std;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">3</span><span></span><span style="color:#61aeee">#</span><span class="hljs-meta-keyword" style="color:#61aeee">define</span><span style="color:#61aeee"> int long long</span><span>
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">4</span><span></span><span style="color:#c678dd">const</span><span> </span><span style="color:#c678dd">int</span><span> N=</span><span style="color:#d19a66">2e5</span><span>+</span><span style="color:#d19a66">5</span><span>,mod=</span><span style="color:#d19a66">998244353</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">5</span><span></span><span style="color:#c678dd">int</span><span> T,n,a[N];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">6</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">7</span><span></span><span style="color:#c678dd">namespace</span><span> task1{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">8</span><span>    </span><span style="color:#c678dd">bool</span><span> vis[N];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">9</span><span>    </span><span style="color:#c678dd">int</span><span> pat[N];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">10</span><span>    </span><span style="color:#c678dd">int</span><span> ans;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">11</span>    
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">12</span><span>    </span><span class="hljs-function" style="color:#c678dd">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">dfs</span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color:#c678dd">int</span><span class="hljs-function hljs-params"> dep)</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">13</span><span>        </span><span style="color:#c678dd">if</span><span>(dep&gt;n){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">14</span><span>            </span><span style="color:#c678dd">bool</span><span> fl=</span><span style="color:#d19a66">1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">15</span><span>            </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n &amp;&amp; fl;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">16</span><span>                </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> j=i+</span><span style="color:#d19a66">1</span><span>;j&lt;=n &amp;&amp; fl;j++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">17</span><span>                    </span><span style="color:#c678dd">if</span><span>(</span><span style="color:#e6c07b">abs</span><span>(i-j)+</span><span style="color:#e6c07b">abs</span><span>(pat[i]-pat[j])&gt;n) fl=</span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">18</span>                }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">19</span>            }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">20</span>            ans+=fl;
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">21</span><span>            </span><span style="color:#c678dd">return</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">22</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">23</span><span>        </span><span style="color:#c678dd">if</span><span>(a[dep]!=</span><span style="color:#d19a66">-1</span><span>){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">24</span>            pat[dep]=a[dep];
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">25</span><span>            </span><span style="color:#e6c07b">dfs</span><span>(dep+</span><span style="color:#d19a66">1</span><span>);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">26</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">27</span><span>        </span><span style="color:#c678dd">else</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">28</span><span>            </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">29</span><span>                </span><span style="color:#c678dd">if</span><span>(!vis[i]){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">30</span>                    pat[dep]=i;
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">31</span><span>                    vis[i]=</span><span style="color:#d19a66">1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">32</span><span>                    </span><span style="color:#e6c07b">dfs</span><span>(dep+</span><span style="color:#d19a66">1</span><span>);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">33</span><span>                    vis[i]=</span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">34</span>                }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">35</span>            }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">36</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">37</span>    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">38</span><span>    </span><span class="hljs-function" style="color:#c678dd">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">solve</span><span class="hljs-function hljs-params">()</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">39</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++) vis[i]=</span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">40</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">41</span><span>            </span><span style="color:#c678dd">if</span><span>(a[i]!=</span><span style="color:#d19a66">-1</span><span>) vis[a[i]]=</span><span style="color:#d19a66">1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">42</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">43</span><span>        ans=</span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">44</span><span>        </span><span style="color:#e6c07b">dfs</span><span>(</span><span style="color:#d19a66">1</span><span>);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">45</span><span>        </span><span style="color:#e6c07b">printf</span><span>(</span><span style="color:#98c379">&quot;%lld\n&quot;</span><span>,ans);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">46</span>    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">47</span>    
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">48</span>}
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">49</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">50</span><span></span><span class="hljs-function" style="color:#c678dd">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">gmod</span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color:#c678dd">int</span><span class="hljs-function hljs-params"> &amp;x)</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">51</span>    x%=mod;
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">52</span>}
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">53</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">54</span><span></span><span style="color:#c678dd">namespace</span><span> task2{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">55</span><span>    </span><span class="hljs-function" style="color:#c678dd">bool</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">chk</span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color:#c678dd">int</span><span class="hljs-function hljs-params"> x,</span><span class="hljs-function hljs-params" style="color:#c678dd">int</span><span class="hljs-function hljs-params"> y)</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">56</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++)
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">57</span><span>            </span><span style="color:#c678dd">if</span><span>(i!=x &amp;&amp; a[i]==y) </span><span style="color:#c678dd">return</span><span> </span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">58</span><span>        </span><span style="color:#c678dd">return</span><span> (a[x]==</span><span style="color:#d19a66">-1</span><span> || a[x]==y);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">59</span>    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">60</span>    
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">61</span><span>    </span><span style="color:#c678dd">int</span><span> c[N];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">62</span><span>    </span><span style="color:#c678dd">bool</span><span> vis[N];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">63</span><span>    </span><span style="color:#c678dd">int</span><span> p[N],id;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">64</span>    
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">65</span><span>    </span><span class="hljs-function" style="color:#c678dd">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">cal</span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color:#c678dd">int</span><span class="hljs-function hljs-params"> l,</span><span class="hljs-function hljs-params" style="color:#c678dd">int</span><span class="hljs-function hljs-params"> r)</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">66</span><span>        </span><span style="color:#c678dd">if</span><span>(l&gt;r) </span><span style="color:#c678dd">return</span><span> </span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">67</span><span>        l=</span><span style="color:#e6c07b">max</span><span>(l,</span><span style="color:#d19a66">2ll</span><span>); r=</span><span style="color:#e6c07b">min</span><span>(r,n</span><span style="color:#d19a66">-1</span><span>);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">68</span><span>        </span><span style="color:#c678dd">return</span><span> c[r]-c[l</span><span style="color:#d19a66">-1</span><span>];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">69</span>    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">70</span>    
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">71</span><span>    </span><span style="color:#c678dd">int</span><span> L[N],R[N];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">72</span><span>    </span><span style="color:#c678dd">int</span><span> LL[N],RR[N];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">73</span><span>    </span><span class="hljs-function" style="color:#c678dd">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">pre</span><span class="hljs-function hljs-params">()</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">74</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++) vis[i]=</span><span style="color:#d19a66">0</span><span>,c[i]=</span><span style="color:#d19a66">1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">75</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++) L[i]=R[i]=LL[i]=RR[i]=</span><span style="color:#d19a66">-1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">76</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">77</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">2</span><span>;i&lt;=n</span><span style="color:#d19a66">-1</span><span>;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">78</span><span>            </span><span style="color:#c678dd">int</span><span> x=a[i];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">79</span><span>            </span><span style="color:#c678dd">if</span><span>(x==</span><span style="color:#d19a66">-1</span><span> || x==</span><span style="color:#d19a66">1</span><span> || x==n) </span><span style="color:#c678dd">continue</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">80</span><span>            vis[x]=</span><span style="color:#d19a66">1</span><span>; c[i]=</span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">81</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">82</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++) c[i]+=c[i</span><span style="color:#d19a66">-1</span><span>];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">83</span>    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">84</span><span>    </span><span class="hljs-function" style="color:#c678dd">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">proc</span><span class="hljs-function hljs-params">()</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">85</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">2</span><span>;i&lt;=n</span><span style="color:#d19a66">-1</span><span>;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">86</span><span>            </span><span style="color:#c678dd">int</span><span> x=a[i];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">87</span><span>            </span><span style="color:#c678dd">if</span><span>(x==</span><span style="color:#d19a66">-1</span><span> || x==</span><span style="color:#d19a66">1</span><span> || x==n) </span><span style="color:#c678dd">continue</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">88</span><span>            </span><span style="color:#c678dd">if</span><span>(L[x]!=</span><span style="color:#d19a66">-1</span><span>){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">89</span><span>                </span><span style="color:#c678dd">if</span><span>(!(L[x]&lt;=i &amp;&amp; i&lt;=R[x]) &amp;&amp; !(LL[x]&lt;=i &amp;&amp; i&lt;=RR[x])) </span><span style="color:#c678dd">return</span><span> </span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">90</span>            }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">91</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">92</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">93</span><span>        id=</span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">94</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">95</span><span>            </span><span style="color:#c678dd">if</span><span>(L[i]==</span><span style="color:#d19a66">-1</span><span> || vis[i]) </span><span style="color:#c678dd">continue</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">96</span><span>            </span><span style="color:#c678dd">int</span><span> tot=</span><span style="color:#e6c07b">cal</span><span>(L[i],R[i])+</span><span style="color:#e6c07b">cal</span><span>(LL[i],RR[i]);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">97</span>            p[++id]=tot;
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">98</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">99</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">100</span><span>        </span><span style="color:#e6c07b">sort</span><span>(p+</span><span style="color:#d19a66">1</span><span>,p+id+</span><span style="color:#d19a66">1</span><span>);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">101</span><span>        </span><span style="color:#c678dd">int</span><span> tot=</span><span style="color:#d19a66">1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">102</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=id;i++) tot=tot*(p[i]-i+</span><span style="color:#d19a66">1</span><span>)%mod;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">103</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">104</span><span>        </span><span style="color:#c678dd">return</span><span> tot;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">105</span>    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">106</span>    
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">107</span><span>    </span><span class="hljs-function" style="color:#c678dd">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">sol</span><span class="hljs-function hljs-params">()</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">108</span><span>        </span><span style="color:#c678dd">int</span><span> m=(n+</span><span style="color:#d19a66">1</span><span>)/</span><span style="color:#d19a66">2</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">109</span><span>        </span><span style="color:#c678dd">if</span><span>(!</span><span style="color:#e6c07b">chk</span><span>(</span><span style="color:#d19a66">1</span><span>,m) || !</span><span style="color:#e6c07b">chk</span><span>(m,</span><span style="color:#d19a66">1</span><span>) || !</span><span style="color:#e6c07b">chk</span><span>(n,m</span><span style="color:#d19a66">-1</span><span>) || !</span><span style="color:#e6c07b">chk</span><span>(m+</span><span style="color:#d19a66">1</span><span>,n)) </span><span style="color:#c678dd">return</span><span> </span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">110</span><span>        </span><span style="color:#e6c07b">pre</span><span>();
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">111</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">112</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">2</span><span>;i&lt;=m</span><span style="color:#d19a66">-2</span><span>;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">113</span><span>            L[i]=m-i+</span><span style="color:#d19a66">1</span><span>, R[i]=m</span><span style="color:#d19a66">-1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">114</span><span>            LL[i]=m+</span><span style="color:#d19a66">2</span><span>, RR[i]=m+i;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">115</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">116</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=m+</span><span style="color:#d19a66">1</span><span>;i&lt;=n</span><span style="color:#d19a66">-1</span><span>;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">117</span><span>            L[i]=i-m+</span><span style="color:#d19a66">1</span><span>, R[i]=m</span><span style="color:#d19a66">-1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">118</span><span>            LL[i]=m+</span><span style="color:#d19a66">2</span><span>, RR[i]=n-(i-m)+</span><span style="color:#d19a66">1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">119</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">120</span><span>        </span><span style="color:#c678dd">return</span><span> </span><span style="color:#e6c07b">proc</span><span>();
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">121</span>    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">122</span>    
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">123</span><span>    </span><span class="hljs-function" style="color:#c678dd">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">sol2</span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color:#c678dd">int</span><span class="hljs-function hljs-params"> X,</span><span class="hljs-function hljs-params" style="color:#c678dd">int</span><span class="hljs-function hljs-params"> Y)</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">124</span><span>        </span><span style="color:#c678dd">int</span><span> m=(n+</span><span style="color:#d19a66">1</span><span>)/</span><span style="color:#d19a66">2</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">125</span><span>        </span><span style="color:#c678dd">if</span><span>(!</span><span style="color:#e6c07b">chk</span><span>(</span><span style="color:#d19a66">1</span><span>,m) || !</span><span style="color:#e6c07b">chk</span><span>(m,</span><span style="color:#d19a66">1</span><span>) || !</span><span style="color:#e6c07b">chk</span><span>(n,m+</span><span style="color:#d19a66">1</span><span>) || !</span><span style="color:#e6c07b">chk</span><span>(m+</span><span style="color:#d19a66">1</span><span>,n)) </span><span style="color:#c678dd">return</span><span> </span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">126</span><span>        </span><span style="color:#e6c07b">pre</span><span>();
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">127</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">2</span><span>;i&lt;=m</span><span style="color:#d19a66">-1</span><span>;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">128</span><span>            L[i]=m-i+</span><span style="color:#d19a66">1</span><span>, R[i]=m</span><span style="color:#d19a66">-1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">129</span><span>            LL[i]=m+</span><span style="color:#d19a66">2</span><span>, RR[i]=m+i-X;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">130</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">131</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=m+</span><span style="color:#d19a66">2</span><span>;i&lt;=n</span><span style="color:#d19a66">-1</span><span>;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">132</span><span>            L[i]=i-m+Y, R[i]=m</span><span style="color:#d19a66">-1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">133</span><span>            LL[i]=m+</span><span style="color:#d19a66">2</span><span>, RR[i]=n-(i-m)+</span><span style="color:#d19a66">1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">134</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">135</span><span>        </span><span style="color:#c678dd">return</span><span> </span><span style="color:#e6c07b">proc</span><span>();
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">136</span>    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">137</span>    
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">138</span><span>    </span><span style="color:#c678dd">int</span><span> tmp[N];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">139</span><span>    </span><span class="hljs-function" style="color:#c678dd">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">solve</span><span class="hljs-function hljs-params">()</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">140</span><span>        </span><span style="color:#c678dd">int</span><span> ans=</span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">141</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> fl1=</span><span style="color:#d19a66">0</span><span>;fl1&lt;=</span><span style="color:#d19a66">1</span><span>;fl1++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">142</span><span>            </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> fl2=</span><span style="color:#d19a66">0</span><span>;fl2&lt;=</span><span style="color:#d19a66">1</span><span>;fl2++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">143</span><span>                </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> fl3=</span><span style="color:#d19a66">0</span><span>;fl3&lt;=</span><span style="color:#d19a66">1</span><span>;fl3++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">144</span><span>                    </span><span style="color:#c678dd">int</span><span> ret=</span><span style="color:#e6c07b">sol</span><span>();
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">145</span><span>                    </span><span style="color:#e6c07b">gmod</span><span>(ans+=ret);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">146</span>                    
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">147</span><span>                    </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">148</span><span>                        </span><span style="color:#c678dd">if</span><span>(a[i]!=</span><span style="color:#d19a66">-1</span><span>) a[i]=n+</span><span style="color:#d19a66">1</span><span>-a[i];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">149</span>                    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">150</span>                }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">151</span>                
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">152</span><span>                </span><span style="color:#e6c07b">reverse</span><span>(a+</span><span style="color:#d19a66">1</span><span>,a+n+</span><span style="color:#d19a66">1</span><span>);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">153</span>            }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">154</span>            
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">155</span><span>            </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++) tmp[i]=</span><span style="color:#d19a66">-1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">156</span><span>            </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">157</span><span>                </span><span style="color:#c678dd">if</span><span>(a[i]!=</span><span style="color:#d19a66">-1</span><span>) tmp[a[i]]=i;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">158</span>            }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">159</span><span>            </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++) </span><span style="color:#e6c07b">swap</span><span>(a[i],tmp[i]);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">160</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">161</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">162</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> fl2=</span><span style="color:#d19a66">0</span><span>;fl2&lt;=</span><span style="color:#d19a66">1</span><span>;fl2++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">163</span><span>            </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> fl3=</span><span style="color:#d19a66">0</span><span>;fl3&lt;=</span><span style="color:#d19a66">1</span><span>;fl3++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">164</span><span>                </span><span style="color:#c678dd">int</span><span> ret=(</span><span style="color:#e6c07b">sol2</span><span>(</span><span style="color:#d19a66">0</span><span>,</span><span style="color:#d19a66">1</span><span>)+</span><span style="color:#e6c07b">sol2</span><span>(</span><span style="color:#d19a66">1</span><span>,</span><span style="color:#d19a66">0</span><span>)+mod-</span><span style="color:#e6c07b">sol2</span><span>(</span><span style="color:#d19a66">1</span><span>,</span><span style="color:#d19a66">1</span><span>))%mod;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">165</span><span>                </span><span style="color:#e6c07b">gmod</span><span>(ans+=ret);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">166</span>                
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">167</span><span>                </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">168</span><span>                    </span><span style="color:#c678dd">if</span><span>(a[i]!=</span><span style="color:#d19a66">-1</span><span>) a[i]=n+</span><span style="color:#d19a66">1</span><span>-a[i];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">169</span>                }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">170</span>            }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">171</span>            
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">172</span><span>            </span><span style="color:#e6c07b">reverse</span><span>(a+</span><span style="color:#d19a66">1</span><span>,a+n+</span><span style="color:#d19a66">1</span><span>);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">173</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">174</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">175</span><span>        </span><span style="color:#e6c07b">printf</span><span>(</span><span style="color:#98c379">&quot;%lld\n&quot;</span><span>,ans);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">176</span>    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">177</span>}
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">178</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">179</span><span></span><span style="color:#c678dd">namespace</span><span> task3{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">180</span><span>    </span><span class="hljs-function" style="color:#c678dd">bool</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">chk</span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color:#c678dd">int</span><span class="hljs-function hljs-params"> x,</span><span class="hljs-function hljs-params" style="color:#c678dd">int</span><span class="hljs-function hljs-params"> y)</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">181</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++)
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">182</span><span>            </span><span style="color:#c678dd">if</span><span>(i!=x &amp;&amp; a[i]==y) </span><span style="color:#c678dd">return</span><span> </span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">183</span><span>        </span><span style="color:#c678dd">return</span><span> (a[x]==</span><span style="color:#d19a66">-1</span><span> || a[x]==y);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">184</span>    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">185</span>    
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">186</span><span>    </span><span style="color:#c678dd">int</span><span> c[N];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">187</span><span>    </span><span style="color:#c678dd">bool</span><span> vis[N];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">188</span><span>    </span><span style="color:#c678dd">int</span><span> p[N],id;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">189</span>    
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">190</span><span>    </span><span class="hljs-function" style="color:#c678dd">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">cal</span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color:#c678dd">int</span><span class="hljs-function hljs-params"> l,</span><span class="hljs-function hljs-params" style="color:#c678dd">int</span><span class="hljs-function hljs-params"> r)</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">191</span><span>        </span><span style="color:#c678dd">if</span><span>(l&gt;r) </span><span style="color:#c678dd">return</span><span> </span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">192</span><span>        l=</span><span style="color:#e6c07b">max</span><span>(l,</span><span style="color:#d19a66">2ll</span><span>); r=</span><span style="color:#e6c07b">min</span><span>(r,n</span><span style="color:#d19a66">-1</span><span>);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">193</span><span>        </span><span style="color:#c678dd">return</span><span> c[r]-c[l</span><span style="color:#d19a66">-1</span><span>];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">194</span>    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">195</span>    
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">196</span><span>    </span><span style="color:#c678dd">int</span><span> L[N],R[N];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">197</span><span>    </span><span style="color:#c678dd">int</span><span> LL[N],RR[N];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">198</span><span>    </span><span class="hljs-function" style="color:#c678dd">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">pre</span><span class="hljs-function hljs-params">()</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">199</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++) vis[i]=</span><span style="color:#d19a66">0</span><span>,c[i]=</span><span style="color:#d19a66">1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">200</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++) L[i]=R[i]=LL[i]=RR[i]=</span><span style="color:#d19a66">-1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">201</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">202</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">2</span><span>;i&lt;=n</span><span style="color:#d19a66">-1</span><span>;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">203</span><span>            </span><span style="color:#c678dd">int</span><span> x=a[i];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">204</span><span>            </span><span style="color:#c678dd">if</span><span>(x==</span><span style="color:#d19a66">-1</span><span> || x==</span><span style="color:#d19a66">1</span><span> || x==n) </span><span style="color:#c678dd">continue</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">205</span><span>            vis[x]=</span><span style="color:#d19a66">1</span><span>; c[i]=</span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">206</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">207</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++) c[i]+=c[i</span><span style="color:#d19a66">-1</span><span>];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">208</span>    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">209</span><span>    </span><span class="hljs-function" style="color:#c678dd">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">proc</span><span class="hljs-function hljs-params">()</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">210</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">2</span><span>;i&lt;=n</span><span style="color:#d19a66">-1</span><span>;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">211</span><span>            </span><span style="color:#c678dd">int</span><span> x=a[i];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">212</span><span>            </span><span style="color:#c678dd">if</span><span>(x==</span><span style="color:#d19a66">-1</span><span> || x==</span><span style="color:#d19a66">1</span><span> || x==n) </span><span style="color:#c678dd">continue</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">213</span><span>            </span><span style="color:#c678dd">if</span><span>(L[x]!=</span><span style="color:#d19a66">-1</span><span>){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">214</span><span>                </span><span style="color:#c678dd">if</span><span>(!(L[x]&lt;=i &amp;&amp; i&lt;=R[x]) &amp;&amp; !(LL[x]&lt;=i &amp;&amp; i&lt;=RR[x])) </span><span style="color:#c678dd">return</span><span> </span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">215</span>            }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">216</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">217</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">218</span><span>        id=</span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">219</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">220</span><span>            </span><span style="color:#c678dd">if</span><span>(L[i]==</span><span style="color:#d19a66">-1</span><span> || vis[i]) </span><span style="color:#c678dd">continue</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">221</span><span>            </span><span style="color:#c678dd">int</span><span> tot=</span><span style="color:#e6c07b">cal</span><span>(L[i],R[i])+</span><span style="color:#e6c07b">cal</span><span>(LL[i],RR[i]);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">222</span>            p[++id]=tot;
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">223</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">224</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">225</span><span>        </span><span style="color:#e6c07b">sort</span><span>(p+</span><span style="color:#d19a66">1</span><span>,p+id+</span><span style="color:#d19a66">1</span><span>);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">226</span><span>        </span><span style="color:#c678dd">int</span><span> tot=</span><span style="color:#d19a66">1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">227</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=id;i++) tot=tot*(p[i]-i+</span><span style="color:#d19a66">1</span><span>)%mod;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">228</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">229</span><span>        </span><span style="color:#c678dd">return</span><span> tot;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">230</span>    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">231</span>    
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">232</span><span>    </span><span class="hljs-function" style="color:#c678dd">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">sol</span><span class="hljs-function hljs-params">(</span><span class="hljs-function hljs-params" style="color:#c678dd">int</span><span class="hljs-function hljs-params"> X,</span><span class="hljs-function hljs-params" style="color:#c678dd">int</span><span class="hljs-function hljs-params"> Y)</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">233</span><span>        </span><span style="color:#c678dd">int</span><span> m=n/</span><span style="color:#d19a66">2</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">234</span><span>        </span><span style="color:#c678dd">if</span><span>(!</span><span style="color:#e6c07b">chk</span><span>(</span><span style="color:#d19a66">1</span><span>,m) || !</span><span style="color:#e6c07b">chk</span><span>(m,</span><span style="color:#d19a66">1</span><span>) || !</span><span style="color:#e6c07b">chk</span><span>(n,m+</span><span style="color:#d19a66">1</span><span>) || !</span><span style="color:#e6c07b">chk</span><span>(m+</span><span style="color:#d19a66">1</span><span>,n)) </span><span style="color:#c678dd">return</span><span> </span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">235</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">236</span><span>        </span><span style="color:#e6c07b">pre</span><span>();
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">237</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">2</span><span>;i&lt;=m</span><span style="color:#d19a66">-1</span><span>;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">238</span><span>            L[i]=m-i+</span><span style="color:#d19a66">1</span><span>, R[i]=m</span><span style="color:#d19a66">-1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">239</span><span>            LL[i]=m+</span><span style="color:#d19a66">2</span><span>, RR[i]=m+i+</span><span style="color:#d19a66">1</span><span>-X;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">240</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">241</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=m+</span><span style="color:#d19a66">2</span><span>;i&lt;=n</span><span style="color:#d19a66">-1</span><span>;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">242</span><span>            L[i]=i-m</span><span style="color:#d19a66">-1</span><span>+Y, R[i]=m</span><span style="color:#d19a66">-1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">243</span><span>            LL[i]=m+</span><span style="color:#d19a66">2</span><span>, RR[i]=n-(i-m)+</span><span style="color:#d19a66">1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">244</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">245</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">246</span><span>        </span><span style="color:#c678dd">return</span><span> </span><span style="color:#e6c07b">proc</span><span>();
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">247</span>    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">248</span>    
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">249</span><span>    </span><span class="hljs-function" style="color:#c678dd">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">sol2</span><span class="hljs-function hljs-params">()</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">250</span><span>        </span><span style="color:#c678dd">int</span><span> m=n/</span><span style="color:#d19a66">2</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">251</span><span>        </span><span style="color:#c678dd">if</span><span>(!</span><span style="color:#e6c07b">chk</span><span>(</span><span style="color:#d19a66">1</span><span>,m) || !</span><span style="color:#e6c07b">chk</span><span>(m,</span><span style="color:#d19a66">1</span><span>) || !</span><span style="color:#e6c07b">chk</span><span>(n,m</span><span style="color:#d19a66">-1</span><span>) || !</span><span style="color:#e6c07b">chk</span><span>(m+</span><span style="color:#d19a66">1</span><span>,n)) </span><span style="color:#c678dd">return</span><span> </span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">252</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">253</span><span>        </span><span style="color:#e6c07b">pre</span><span>();
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">254</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">2</span><span>;i&lt;=m</span><span style="color:#d19a66">-2</span><span>;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">255</span><span>            L[i]=m-i+</span><span style="color:#d19a66">1</span><span>, R[i]=m</span><span style="color:#d19a66">-1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">256</span><span>            LL[i]=m+</span><span style="color:#d19a66">2</span><span>, RR[i]=</span><span style="color:#e6c07b">min</span><span>(n</span><span style="color:#d19a66">-1</span><span>,m+i+</span><span style="color:#d19a66">1</span><span>);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">257</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">258</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=m+</span><span style="color:#d19a66">1</span><span>;i&lt;=n</span><span style="color:#d19a66">-1</span><span>;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">259</span><span>            L[i]=i-m+</span><span style="color:#d19a66">1</span><span>, R[i]=m</span><span style="color:#d19a66">-1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">260</span><span>            LL[i]=m+</span><span style="color:#d19a66">2</span><span>, RR[i]=n-(i-m)+</span><span style="color:#d19a66">1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">261</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">262</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">263</span><span>        </span><span style="color:#c678dd">return</span><span> </span><span style="color:#e6c07b">proc</span><span>();
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">264</span>    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">265</span>    
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">266</span><span>    </span><span class="hljs-function" style="color:#c678dd">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">sol3</span><span class="hljs-function hljs-params">()</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">267</span><span>        </span><span style="color:#c678dd">int</span><span> m=n/</span><span style="color:#d19a66">2</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">268</span><span>        </span><span style="color:#c678dd">if</span><span>(!</span><span style="color:#e6c07b">chk</span><span>(</span><span style="color:#d19a66">1</span><span>,m) || !</span><span style="color:#e6c07b">chk</span><span>(m+</span><span style="color:#d19a66">1</span><span>,</span><span style="color:#d19a66">1</span><span>) || !</span><span style="color:#e6c07b">chk</span><span>(n,m+</span><span style="color:#d19a66">1</span><span>) || !</span><span style="color:#e6c07b">chk</span><span>(m,n)) </span><span style="color:#c678dd">return</span><span> </span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">269</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">270</span><span>        </span><span style="color:#e6c07b">pre</span><span>();
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">271</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">2</span><span>;i&lt;=m</span><span style="color:#d19a66">-1</span><span>;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">272</span><span>            L[i]=m-i+</span><span style="color:#d19a66">1</span><span>, R[i]=m</span><span style="color:#d19a66">-1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">273</span><span>            LL[i]=m+</span><span style="color:#d19a66">2</span><span>, RR[i]=m+i;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">274</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">275</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=m+</span><span style="color:#d19a66">2</span><span>;i&lt;=n</span><span style="color:#d19a66">-1</span><span>;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">276</span><span>            L[i]=i-m, R[i]=m</span><span style="color:#d19a66">-1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">277</span><span>            LL[i]=m+</span><span style="color:#d19a66">2</span><span>, RR[i]=n-(i-m)+</span><span style="color:#d19a66">1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">278</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">279</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">280</span><span>        </span><span style="color:#c678dd">return</span><span> </span><span style="color:#e6c07b">proc</span><span>();
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">281</span>    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">282</span>    
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">283</span><span>    </span><span class="hljs-function" style="color:#c678dd">int</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">sol4</span><span class="hljs-function hljs-params">()</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">284</span><span>        </span><span style="color:#c678dd">int</span><span> m=n/</span><span style="color:#d19a66">2</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">285</span><span>        </span><span style="color:#c678dd">if</span><span>(!</span><span style="color:#e6c07b">chk</span><span>(</span><span style="color:#d19a66">1</span><span>,m) || !</span><span style="color:#e6c07b">chk</span><span>(m+</span><span style="color:#d19a66">2</span><span>,</span><span style="color:#d19a66">1</span><span>) || !</span><span style="color:#e6c07b">chk</span><span>(n,m</span><span style="color:#d19a66">-1</span><span>) || !</span><span style="color:#e6c07b">chk</span><span>(m+</span><span style="color:#d19a66">1</span><span>,n)) </span><span style="color:#c678dd">return</span><span> </span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">286</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">287</span><span>        </span><span style="color:#e6c07b">pre</span><span>();
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">288</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">2</span><span>;i&lt;=m</span><span style="color:#d19a66">-2</span><span>;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">289</span><span>            L[i]=m-i+</span><span style="color:#d19a66">1</span><span>, R[i]=m;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">290</span><span>            LL[i]=m+</span><span style="color:#d19a66">3</span><span>, RR[i]=m+i+</span><span style="color:#d19a66">1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">291</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">292</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=m+</span><span style="color:#d19a66">1</span><span>;i&lt;=n</span><span style="color:#d19a66">-1</span><span>;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">293</span><span>            L[i]=i-m+</span><span style="color:#d19a66">1</span><span>, R[i]=m;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">294</span><span>            LL[i]=m+</span><span style="color:#d19a66">3</span><span>, RR[i]=n-(i-m)+</span><span style="color:#d19a66">1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">295</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">296</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">297</span><span>        </span><span style="color:#c678dd">return</span><span> </span><span style="color:#e6c07b">proc</span><span>();
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">298</span>    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">299</span>    
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">300</span><span>    </span><span style="color:#c678dd">int</span><span> tmp[N];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">301</span><span>    </span><span class="hljs-function" style="color:#c678dd">void</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">solve</span><span class="hljs-function hljs-params">()</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">302</span><span>        </span><span style="color:#c678dd">int</span><span> ans=</span><span style="color:#d19a66">0</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">303</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> fl3=</span><span style="color:#d19a66">0</span><span>;fl3&lt;=</span><span style="color:#d19a66">1</span><span>;fl3++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">304</span><span>            </span><span style="color:#c678dd">int</span><span> ret=(</span><span style="color:#e6c07b">sol</span><span>(</span><span style="color:#d19a66">0</span><span>,</span><span style="color:#d19a66">2</span><span>)+mod-</span><span style="color:#e6c07b">sol</span><span>(</span><span style="color:#d19a66">1</span><span>,</span><span style="color:#d19a66">2</span><span>)+</span><span style="color:#e6c07b">sol</span><span>(</span><span style="color:#d19a66">2</span><span>,</span><span style="color:#d19a66">0</span><span>)+mod-</span><span style="color:#e6c07b">sol</span><span>(</span><span style="color:#d19a66">2</span><span>,</span><span style="color:#d19a66">1</span><span>)+</span><span style="color:#e6c07b">sol</span><span>(</span><span style="color:#d19a66">1</span><span>,</span><span style="color:#d19a66">1</span><span>))%mod;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">305</span><span>            </span><span style="color:#e6c07b">gmod</span><span>(ans+=ret);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">306</span>            
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">307</span><span>            </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">308</span><span>                </span><span style="color:#c678dd">if</span><span>(a[i]!=</span><span style="color:#d19a66">-1</span><span>) a[i]=n+</span><span style="color:#d19a66">1</span><span>-a[i];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">309</span>            }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">310</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">311</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">312</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> fl1=</span><span style="color:#d19a66">0</span><span>;fl1&lt;=</span><span style="color:#d19a66">1</span><span>;fl1++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">313</span><span>            </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> fl2=</span><span style="color:#d19a66">0</span><span>;fl2&lt;=</span><span style="color:#d19a66">1</span><span>;fl2++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">314</span><span>                </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> fl3=</span><span style="color:#d19a66">0</span><span>;fl3&lt;=</span><span style="color:#d19a66">1</span><span>;fl3++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">315</span><span>                    </span><span style="color:#c678dd">int</span><span> ret=</span><span style="color:#e6c07b">sol2</span><span>();
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">316</span><span>                    </span><span style="color:#e6c07b">gmod</span><span>(ans+=ret);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">317</span>                    
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">318</span><span>                    </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">319</span><span>                        </span><span style="color:#c678dd">if</span><span>(a[i]!=</span><span style="color:#d19a66">-1</span><span>) a[i]=n+</span><span style="color:#d19a66">1</span><span>-a[i];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">320</span>                    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">321</span>                }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">322</span>                
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">323</span><span>                </span><span style="color:#e6c07b">reverse</span><span>(a+</span><span style="color:#d19a66">1</span><span>,a+n+</span><span style="color:#d19a66">1</span><span>);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">324</span>            }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">325</span>            
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">326</span><span>            </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++) tmp[i]=</span><span style="color:#d19a66">-1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">327</span><span>            </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">328</span><span>                </span><span style="color:#c678dd">if</span><span>(a[i]!=</span><span style="color:#d19a66">-1</span><span>) tmp[a[i]]=i;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">329</span>            }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">330</span><span>            </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++) </span><span style="color:#e6c07b">swap</span><span>(a[i],tmp[i]);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">331</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">332</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">333</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> fl2=</span><span style="color:#d19a66">0</span><span>;fl2&lt;=</span><span style="color:#d19a66">1</span><span>;fl2++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">334</span><span>            </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> fl3=</span><span style="color:#d19a66">0</span><span>;fl3&lt;=</span><span style="color:#d19a66">1</span><span>;fl3++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">335</span><span>                </span><span style="color:#c678dd">int</span><span> ret=</span><span style="color:#e6c07b">sol4</span><span>();
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">336</span><span>                </span><span style="color:#e6c07b">gmod</span><span>(ans+=ret);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">337</span>                
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">338</span><span>                </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">339</span><span>                    </span><span style="color:#c678dd">if</span><span>(a[i]!=</span><span style="color:#d19a66">-1</span><span>) a[i]=n+</span><span style="color:#d19a66">1</span><span>-a[i];
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">340</span>                }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">341</span>            }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">342</span>            
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">343</span><span>            </span><span style="color:#e6c07b">reverse</span><span>(a+</span><span style="color:#d19a66">1</span><span>,a+n+</span><span style="color:#d19a66">1</span><span>);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">344</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">345</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">346</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> fl1=</span><span style="color:#d19a66">0</span><span>;fl1&lt;=</span><span style="color:#d19a66">1</span><span>;fl1++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">347</span><span>            </span><span style="color:#c678dd">int</span><span> ret=</span><span style="color:#e6c07b">sol3</span><span>();
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">348</span><span>            </span><span style="color:#e6c07b">gmod</span><span>(ans+=ret);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">349</span>            
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">350</span><span>            </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++) tmp[i]=</span><span style="color:#d19a66">-1</span><span>;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">351</span><span>            </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">352</span><span>                </span><span style="color:#c678dd">if</span><span>(a[i]!=</span><span style="color:#d19a66">-1</span><span>) tmp[a[i]]=i;
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">353</span>            }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">354</span><span>            </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++) </span><span style="color:#e6c07b">swap</span><span>(a[i],tmp[i]);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">355</span>        }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">356</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">357</span><span>        </span><span style="color:#e6c07b">printf</span><span>(</span><span style="color:#98c379">&quot;%lld\n&quot;</span><span>,ans);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">358</span>    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">359</span>}
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">360</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">361</span><span></span><span class="hljs-function" style="color:#c678dd">signed</span><span class="hljs-function"> </span><span class="hljs-function" style="color:#61aeee">main</span><span class="hljs-function hljs-params">()</span><span>{
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">362</span><span>    </span><span style="color:#e6c07b">scanf</span><span>(</span><span style="color:#98c379">&quot;%lld&quot;</span><span>,&amp;T);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">363</span><span>    </span><span style="color:#c678dd">while</span><span>(T--){
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">364</span><span>        </span><span style="color:#e6c07b">scanf</span><span>(</span><span style="color:#98c379">&quot;%lld&quot;</span><span>,&amp;n);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">365</span><span>        </span><span style="color:#c678dd">for</span><span>(</span><span style="color:#c678dd">int</span><span> i=</span><span style="color:#d19a66">1</span><span>;i&lt;=n;i++) </span><span style="color:#e6c07b">scanf</span><span>(</span><span style="color:#98c379">&quot;%lld&quot;</span><span>,&amp;a[i]);
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">366</span>        
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">367</span><span>        </span><span style="color:#c678dd">if</span><span>(n&lt;=</span><span style="color:#d19a66">6</span><span>) task1::</span><span style="color:#e6c07b">solve</span><span>();
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">368</span><span>        </span><span style="color:#c678dd">else</span><span> </span><span style="color:#c678dd">if</span><span>(n%</span><span style="color:#d19a66">2</span><span>==</span><span style="color:#d19a66">1</span><span>) task2::</span><span style="color:#e6c07b">solve</span><span>();
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">369</span><span>        </span><span style="color:#c678dd">else</span><span> task3::</span><span style="color:#e6c07b">solve</span><span>();
</span><span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">370</span>    }
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">371</span>}
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">372</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">373</span>
<span class="comment linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:4.25em;padding-right:10px;text-align:right;user-select:none;margin-right:15px;color:#888;border-right:1px solid #444">374</span></code></pre></div></div></div></div><div class="flex-shrink-0 basis-1/5 space-y-2 overflow-auto"><div class="overflow-auto"><h2 class="px-1 py-1 text-sm font-medium text-gray-300">File</h2><div class="rounded border-2 border-gray-400 bg-black/80 px-2 py-3 font-mono text-sm text-green-300"><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Name<!-- -->]</span> <span class="text-green-200">code.cpp</span></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Size<!-- -->]</span> <span class="text-yellow-400">8.902 KB (9116 B)</span></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Submission Id<!-- -->]</span> <span class="text-green-200">#1539251</span></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Problem Name<!-- -->]</span> <span class="text-green-200">Shrooks</span></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Status<!-- -->]</span> <span class="text-green-200">AC</span></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Time<!-- -->]</span> <span class="text-yellow-400">420ms</span></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Memory<!-- -->]</span> <span class="text-yellow-400">28696kb</span></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Language<!-- -->]</span> <span class="text-green-200">C++14</span></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Submit Time<!-- -->]</span> <span class="text-pink-400">2025/10/19 01:03:22</span></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Submission Link<!-- -->]</span> <a href="https://qoj.ac/submission/1539251" target="_blank" rel="noopener noreferrer" class="text-indigo-400 underline hover:text-indigo-200">https://qoj.ac/submission/1539251</a></div></div></div><div class="overflow-auto"><h2 class="px-1 py-1 text-sm font-medium text-gray-300">Problem</h2><div class="rounded border-2 border-gray-400 bg-black/80 px-2 py-3 font-mono text-sm text-green-300"><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Name<!-- -->]</span> <span class="text-green-200">Shrooks</span></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Link<!-- -->]</span> <a href="https://qoj.ac/contest/1849/problem/9785" target="_blank" rel="noopener noreferrer" class="text-indigo-400 underline hover:text-indigo-200">https://qoj.ac/contest/1849/problem/9785</a></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Time Limit<!-- -->]</span> <span class="text-yellow-400">2.0 s</span></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Memory Limit<!-- -->]</span> <span class="text-yellow-400">512 MB</span></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Solved<!-- -->]</span> <span class="text-cyan-400">true</span></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Submit Time<!-- -->]</span> <span class="text-pink-400">2025/10/19 01:03:22</span></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Solve Time<!-- -->]</span> <span class="text-pink-400">2025/10/19 01:02:09</span></div></div></div><div class="overflow-auto"><h2 class="px-1 py-1 text-sm font-medium text-gray-300">Contest</h2><div class="rounded border-2 border-gray-400 bg-black/80 px-2 py-3 font-mono text-sm text-green-300"><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Name<!-- -->]</span> <span class="text-green-200">The 3rd Universal Cup. Stage 18: Southeastern Europe</span></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Date<!-- -->]</span> <span class="text-pink-400">2025-10-18</span></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Platform<!-- -->]</span> <span class="text-green-200">qoj</span></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Start Time<!-- -->]</span> <span class="text-pink-400">2025/10/18 13:00:50</span></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->End Time<!-- -->]</span> <span class="text-pink-400">2025/10/18 18:00:50</span></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Link<!-- -->]</span> <a href="https://qoj.ac/contest/1849" target="_blank" rel="noopener noreferrer" class="text-indigo-400 underline hover:text-indigo-200">https://qoj.ac/contest/1849</a></div><div class="mb-1 break-all" style="text-indent:-1.2em;padding-left:1.2em"><span class="text-blue-400">[<!-- -->Difficulty<!-- -->]</span> <span class="text-yellow-300">3.5</span></div></div></div></div></main></div></div><!--$--><!--/$--><footer class="my-4"><p class="mt-0 border-t border-gray-700 pt-4 text-center text-sm text-gray-400"> 2025 Training Archive <!-- --> <a href="https://github.com/appleblue17/Training-Archive/" target="_blank" rel="noopener noreferrer" class="hover:text-blue-300"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="mr-1 inline" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>GitHub</a> <!-- --> MIT License</p><p class="mt-2 text-center text-sm text-gray-400">Designed and developed by<a href="https://github.com/Appleblue17" target="_blank" rel="noopener noreferrer" class="px-1 text-blue-400 hover:text-blue-300">Appleblue17</a></p><p class="mt-2 text-center text-xs text-gray-500">Disclaimer: This project is for educational purposes only. Use at your own risk.</p></footer><script src="/Training-Archive/_next/static/chunks/webpack-12683b4c0beed4e8.js" id="_R_" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[8521,[],\"\"]\n3:I[1661,[],\"\"]\nb:I[939,[],\"\"]\n:HL[\"/Training-Archive/_next/static/media/cc27cf3ff100ea21-s.p.ttf\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/ttf\"}]\n:HL[\"/Training-Archive/_next/static/css/f46a16dd4ad90ea1.css\",\"style\"]\n:HL[\"/Training-Archive/_next/static/css/9f4210e542df69af.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"itfousFnAe64oZVD9xO4w\",\"p\":\"/Training-Archive\",\"c\":[\"\",\"view\",\"contests\",\"2025-10-18%20The%203rd%20Universal%20Cup.%20Stage%2018%3A%20Southeastern%20Europe\",\"problems\",\"E\",\"code.cpp\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"view\",{\"children\":[\"contests\",{\"children\":[[\"contest\",\"2025-10-18%20The%203rd%20Universal%20Cup.%20Stage%2018%3A%20Southeastern%20Europe\",\"d\"],{\"children\":[\"problems\",{\"children\":[[\"problem\",\"E\",\"d\"],{\"children\":[[\"file\",\"code.cpp\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]}]}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/Training-Archive/_next/static/css/f46a16dd4ad90ea1.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"meta\",null,{\"charSet\":\"UTF-8\"}],[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"href\":\"https://appleblue17.github.io/Training-Archive/archive-bot.png\"}],[\"$\",\"title\",null,{\"children\":\"Training Archive\"}]]}],[\"$\",\"body\",null,{\"className\":\"__className_e3f162 antialiased\",\"children\":[[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}],[\"$\",\"footer\",null,{\"className\":\"my-4\",\"children\":[[\"$\",\"p\",null,{\"className\":\"mt-0 border-t border-gray-700 pt-4 text-center text-sm text-gray-400\",\"children\":[\" 2025 Training Archive \",\" \",[\"$\",\"a\",null,{\"href\":\"https://github.com/appleblue17/Training-Archive/\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"hover:text-blue-300\",\"children\":[[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"none\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"mr-1 inline\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22\",\"children\":[]}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}],\"GitHub\"]}],\" \",\" MIT License\"]}],[\"$\",\"p\",null,{\"className\":\"mt-2 text-center text-sm text-gray-400\",\"children\":[\"Designed and developed by\",[\"$\",\"a\",null,{\"href\":\"https://github.com/Appleblue17\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"px-1 text-blue-400 hover:text-blue-300\",\"children\":\"Appleblue17\"}]]}],[\"$\",\"p\",null,{\"className\":\"mt-2 text-center text-xs text-gray-500\",\"children\":\"Disclaimer: This project is for educational purposes only. Use at your own risk.\"}]]}]]}]]}]]}],{\"children\":[\"view\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"contests\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":\"$L4\",\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"contest\",\"2025-10-18%20The%203rd%20Universal%20Cup.%20Stage%2018%3A%20Southeastern%20Europe\",\"d\"],\"$L5\",{\"children\":[\"problems\",\"$L6\",{\"children\":[[\"problem\",\"E\",\"d\"],\"$L7\",{\"children\":[[\"file\",\"code.cpp\",\"d\"],\"$L8\",{\"children\":[\"__PAGE__\",\"$L9\",{},null,false]},null,false]},null,false]},null,false]},null,false]},null,false]},null,false]},null,false],\"$La\",false]],\"m\":\"$undefined\",\"G\":[\"$b\",[]],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"d:I[7055,[],\"OutletBoundary\"]\nf:I[9909,[],\"AsyncMetadataOutlet\"]\n11:I[7055,[],\"ViewportBoundary\"]\n13:I[7055,[],\"MetadataBoundary\"]\n14:\"$Sreact.suspense\"\n4:[\"$\",\"$L3\",null,{}]\n5:[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]\n6:[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]\n7:[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]\n8:[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}]\n9:[\"$\",\"$1\",\"c\",{\"children\":[\"$Lc\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/Training-Archive/_next/static/css/9f4210e542df69af.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$Ld\",null,{\"children\":[\"$Le\",[\"$\",\"$Lf\",null,{\"promise\":\"$@10\"}]]}]]}]\na:[\"$\",\"$1\",\"h\",{\"children\":[null,[[\"$\",\"$L11\",null,{\"children\":\"$L12\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]],[\"$\",\"$L13\",null,{\"children\":[\"$\",\"div\",null,{\"hidden\":true,\"children\":[\"$\",\"$14\",null,{\"fallback\":null,\"children\":\"$L15\"}]}]}]"])</script><script>self.__next_f.push([1,"]}]\n"])</script><script>self.__next_f.push([1,"16:I[2236,[\"215\",\"static/chunks/1951f239-e4c7a40f4938f7cd.js\",\"903\",\"static/chunks/903-580aa120588c94fd.js\",\"314\",\"static/chunks/314-bdd16cf32a728af3.js\",\"947\",\"static/chunks/app/view/contests/%5Bcontest%5D/problems/%5Bproblem%5D/%5Bfile%5D/page-45187987e20c318a.js\"],\"\"]\n17:I[6417,[\"215\",\"static/chunks/1951f239-e4c7a40f4938f7cd.js\",\"903\",\"static/chunks/903-580aa120588c94fd.js\",\"314\",\"static/chunks/314-bdd16cf32a728af3.js\",\"947\",\"static/chunks/app/view/contests/%5Bcontest%5D/problems/%5Bproblem%5D/%5Bfile%5D/page-45187987e20c318a.js\"],\"default\"]\n18:T239c,"])</script><script>self.__next_f.push([1,"#include \u003cbits/stdc++.h\u003e\nusing namespace std;\n#define int long long\nconst int N=2e5+5,mod=998244353;\nint T,n,a[N];\n\nnamespace task1{\n    bool vis[N];\n    int pat[N];\n    int ans;\n    \n    void dfs(int dep){\n        if(dep\u003en){\n            bool fl=1;\n            for(int i=1;i\u003c=n \u0026\u0026 fl;i++){\n                for(int j=i+1;j\u003c=n \u0026\u0026 fl;j++){\n                    if(abs(i-j)+abs(pat[i]-pat[j])\u003en) fl=0;\n                }\n            }\n            ans+=fl;\n            return;\n        }\n        if(a[dep]!=-1){\n            pat[dep]=a[dep];\n            dfs(dep+1);\n        }\n        else{\n            for(int i=1;i\u003c=n;i++){\n                if(!vis[i]){\n                    pat[dep]=i;\n                    vis[i]=1;\n                    dfs(dep+1);\n                    vis[i]=0;\n                }\n            }\n        }\n    }\n    void solve(){\n        for(int i=1;i\u003c=n;i++) vis[i]=0;\n        for(int i=1;i\u003c=n;i++){\n            if(a[i]!=-1) vis[a[i]]=1;\n        }\n        ans=0;\n        dfs(1);\n        printf(\"%lld\\n\",ans);\n    }\n    \n}\n\nvoid gmod(int \u0026x){\n    x%=mod;\n}\n\nnamespace task2{\n    bool chk(int x,int y){\n        for(int i=1;i\u003c=n;i++)\n            if(i!=x \u0026\u0026 a[i]==y) return 0;\n        return (a[x]==-1 || a[x]==y);\n    }\n    \n    int c[N];\n    bool vis[N];\n    int p[N],id;\n    \n    int cal(int l,int r){\n        if(l\u003er) return 0;\n        l=max(l,2ll); r=min(r,n-1);\n        return c[r]-c[l-1];\n    }\n    \n    int L[N],R[N];\n    int LL[N],RR[N];\n    void pre(){\n        for(int i=1;i\u003c=n;i++) vis[i]=0,c[i]=1;\n        for(int i=1;i\u003c=n;i++) L[i]=R[i]=LL[i]=RR[i]=-1;\n        \n        for(int i=2;i\u003c=n-1;i++){\n            int x=a[i];\n            if(x==-1 || x==1 || x==n) continue;\n            vis[x]=1; c[i]=0;\n        }\n        for(int i=1;i\u003c=n;i++) c[i]+=c[i-1];\n    }\n    int proc(){\n        for(int i=2;i\u003c=n-1;i++){\n            int x=a[i];\n            if(x==-1 || x==1 || x==n) continue;\n            if(L[x]!=-1){\n                if(!(L[x]\u003c=i \u0026\u0026 i\u003c=R[x]) \u0026\u0026 !(LL[x]\u003c=i \u0026\u0026 i\u003c=RR[x])) return 0;\n            }\n        }\n        \n        id=0;\n        for(int i=1;i\u003c=n;i++){\n            if(L[i]==-1 || vis[i]) continue;\n            int tot=cal(L[i],R[i])+cal(LL[i],RR[i]);\n            p[++id]=tot;\n        }\n        \n        sort(p+1,p+id+1);\n        int tot=1;\n        for(int i=1;i\u003c=id;i++) tot=tot*(p[i]-i+1)%mod;\n        \n        return tot;\n    }\n    \n    int sol(){\n        int m=(n+1)/2;\n        if(!chk(1,m) || !chk(m,1) || !chk(n,m-1) || !chk(m+1,n)) return 0;\n        pre();\n\n        for(int i=2;i\u003c=m-2;i++){\n            L[i]=m-i+1, R[i]=m-1;\n            LL[i]=m+2, RR[i]=m+i;\n        }\n        for(int i=m+1;i\u003c=n-1;i++){\n            L[i]=i-m+1, R[i]=m-1;\n            LL[i]=m+2, RR[i]=n-(i-m)+1;\n        }\n        return proc();\n    }\n    \n    int sol2(int X,int Y){\n        int m=(n+1)/2;\n        if(!chk(1,m) || !chk(m,1) || !chk(n,m+1) || !chk(m+1,n)) return 0;\n        pre();\n        for(int i=2;i\u003c=m-1;i++){\n            L[i]=m-i+1, R[i]=m-1;\n            LL[i]=m+2, RR[i]=m+i-X;\n        }\n        for(int i=m+2;i\u003c=n-1;i++){\n            L[i]=i-m+Y, R[i]=m-1;\n            LL[i]=m+2, RR[i]=n-(i-m)+1;\n        }\n        return proc();\n    }\n    \n    int tmp[N];\n    void solve(){\n        int ans=0;\n        for(int fl1=0;fl1\u003c=1;fl1++){\n            for(int fl2=0;fl2\u003c=1;fl2++){\n                for(int fl3=0;fl3\u003c=1;fl3++){\n                    int ret=sol();\n                    gmod(ans+=ret);\n                    \n                    for(int i=1;i\u003c=n;i++){\n                        if(a[i]!=-1) a[i]=n+1-a[i];\n                    }\n                }\n                \n                reverse(a+1,a+n+1);\n            }\n            \n            for(int i=1;i\u003c=n;i++) tmp[i]=-1;\n            for(int i=1;i\u003c=n;i++){\n                if(a[i]!=-1) tmp[a[i]]=i;\n            }\n            for(int i=1;i\u003c=n;i++) swap(a[i],tmp[i]);\n        }\n        \n        for(int fl2=0;fl2\u003c=1;fl2++){\n            for(int fl3=0;fl3\u003c=1;fl3++){\n                int ret=(sol2(0,1)+sol2(1,0)+mod-sol2(1,1))%mod;\n                gmod(ans+=ret);\n                \n                for(int i=1;i\u003c=n;i++){\n                    if(a[i]!=-1) a[i]=n+1-a[i];\n                }\n            }\n            \n            reverse(a+1,a+n+1);\n        }\n        \n        printf(\"%lld\\n\",ans);\n    }\n}\n\nnamespace task3{\n    bool chk(int x,int y){\n        for(int i=1;i\u003c=n;i++)\n            if(i!=x \u0026\u0026 a[i]==y) return 0;\n        return (a[x]==-1 || a[x]==y);\n    }\n    \n    int c[N];\n    bool vis[N];\n    int p[N],id;\n    \n    int cal(int l,int r){\n        if(l\u003er) return 0;\n        l=max(l,2ll); r=min(r,n-1);\n        return c[r]-c[l-1];\n    }\n    \n    int L[N],R[N];\n    int LL[N],RR[N];\n    void pre(){\n        for(int i=1;i\u003c=n;i++) vis[i]=0,c[i]=1;\n        for(int i=1;i\u003c=n;i++) L[i]=R[i]=LL[i]=RR[i]=-1;\n        \n        for(int i=2;i\u003c=n-1;i++){\n            int x=a[i];\n            if(x==-1 || x==1 || x==n) continue;\n            vis[x]=1; c[i]=0;\n        }\n        for(int i=1;i\u003c=n;i++) c[i]+=c[i-1];\n    }\n    int proc(){\n        for(int i=2;i\u003c=n-1;i++){\n            int x=a[i];\n            if(x==-1 || x==1 || x==n) continue;\n            if(L[x]!=-1){\n                if(!(L[x]\u003c=i \u0026\u0026 i\u003c=R[x]) \u0026\u0026 !(LL[x]\u003c=i \u0026\u0026 i\u003c=RR[x])) return 0;\n            }\n        }\n        \n        id=0;\n        for(int i=1;i\u003c=n;i++){\n            if(L[i]==-1 || vis[i]) continue;\n            int tot=cal(L[i],R[i])+cal(LL[i],RR[i]);\n            p[++id]=tot;\n        }\n        \n        sort(p+1,p+id+1);\n        int tot=1;\n        for(int i=1;i\u003c=id;i++) tot=tot*(p[i]-i+1)%mod;\n        \n        return tot;\n    }\n    \n    int sol(int X,int Y){\n        int m=n/2;\n        if(!chk(1,m) || !chk(m,1) || !chk(n,m+1) || !chk(m+1,n)) return 0;\n        \n        pre();\n        for(int i=2;i\u003c=m-1;i++){\n            L[i]=m-i+1, R[i]=m-1;\n            LL[i]=m+2, RR[i]=m+i+1-X;\n        }\n        for(int i=m+2;i\u003c=n-1;i++){\n            L[i]=i-m-1+Y, R[i]=m-1;\n            LL[i]=m+2, RR[i]=n-(i-m)+1;\n        }\n        \n        return proc();\n    }\n    \n    int sol2(){\n        int m=n/2;\n        if(!chk(1,m) || !chk(m,1) || !chk(n,m-1) || !chk(m+1,n)) return 0;\n        \n        pre();\n        for(int i=2;i\u003c=m-2;i++){\n            L[i]=m-i+1, R[i]=m-1;\n            LL[i]=m+2, RR[i]=min(n-1,m+i+1);\n        }\n        for(int i=m+1;i\u003c=n-1;i++){\n            L[i]=i-m+1, R[i]=m-1;\n            LL[i]=m+2, RR[i]=n-(i-m)+1;\n        }\n        \n        return proc();\n    }\n    \n    int sol3(){\n        int m=n/2;\n        if(!chk(1,m) || !chk(m+1,1) || !chk(n,m+1) || !chk(m,n)) return 0;\n        \n        pre();\n        for(int i=2;i\u003c=m-1;i++){\n            L[i]=m-i+1, R[i]=m-1;\n            LL[i]=m+2, RR[i]=m+i;\n        }\n        for(int i=m+2;i\u003c=n-1;i++){\n            L[i]=i-m, R[i]=m-1;\n            LL[i]=m+2, RR[i]=n-(i-m)+1;\n        }\n        \n        return proc();\n    }\n    \n    int sol4(){\n        int m=n/2;\n        if(!chk(1,m) || !chk(m+2,1) || !chk(n,m-1) || !chk(m+1,n)) return 0;\n        \n        pre();\n        for(int i=2;i\u003c=m-2;i++){\n            L[i]=m-i+1, R[i]=m;\n            LL[i]=m+3, RR[i]=m+i+1;\n        }\n        for(int i=m+1;i\u003c=n-1;i++){\n            L[i]=i-m+1, R[i]=m;\n            LL[i]=m+3, RR[i]=n-(i-m)+1;\n        }\n        \n        return proc();\n    }\n    \n    int tmp[N];\n    void solve(){\n        int ans=0;\n        for(int fl3=0;fl3\u003c=1;fl3++){\n            int ret=(sol(0,2)+mod-sol(1,2)+sol(2,0)+mod-sol(2,1)+sol(1,1))%mod;\n            gmod(ans+=ret);\n            \n            for(int i=1;i\u003c=n;i++){\n                if(a[i]!=-1) a[i]=n+1-a[i];\n            }\n        }\n        \n        for(int fl1=0;fl1\u003c=1;fl1++){\n            for(int fl2=0;fl2\u003c=1;fl2++){\n                for(int fl3=0;fl3\u003c=1;fl3++){\n                    int ret=sol2();\n                    gmod(ans+=ret);\n                    \n                    for(int i=1;i\u003c=n;i++){\n                        if(a[i]!=-1) a[i]=n+1-a[i];\n                    }\n                }\n                \n                reverse(a+1,a+n+1);\n            }\n            \n            for(int i=1;i\u003c=n;i++) tmp[i]=-1;\n            for(int i=1;i\u003c=n;i++){\n                if(a[i]!=-1) tmp[a[i]]=i;\n            }\n            for(int i=1;i\u003c=n;i++) swap(a[i],tmp[i]);\n        }\n        \n        for(int fl2=0;fl2\u003c=1;fl2++){\n            for(int fl3=0;fl3\u003c=1;fl3++){\n                int ret=sol4();\n                gmod(ans+=ret);\n                \n                for(int i=1;i\u003c=n;i++){\n                    if(a[i]!=-1) a[i]=n+1-a[i];\n                }\n            }\n            \n            reverse(a+1,a+n+1);\n        }\n        \n        for(int fl1=0;fl1\u003c=1;fl1++){\n            int ret=sol3();\n            gmod(ans+=ret);\n            \n            for(int i=1;i\u003c=n;i++) tmp[i]=-1;\n            for(int i=1;i\u003c=n;i++){\n                if(a[i]!=-1) tmp[a[i]]=i;\n            }\n            for(int i=1;i\u003c=n;i++) swap(a[i],tmp[i]);\n        }\n        \n        printf(\"%lld\\n\",ans);\n    }\n}\n\nsigned main(){\n    scanf(\"%lld\",\u0026T);\n    while(T--){\n        scanf(\"%lld\",\u0026n);\n        for(int i=1;i\u003c=n;i++) scanf(\"%lld\",\u0026a[i]);\n        \n        if(n\u003c=6) task1::solve();\n        else if(n%2==1) task2::solve();\n        else task3::solve();\n    }\n}\n\n\n"])</script><script>self.__next_f.push([1,"c:[\"$\",\"div\",null,{\"className\":\"flex min-h-screen justify-center py-4\",\"children\":[\"$\",\"div\",null,{\"className\":\"mx-auto w-4/5\",\"children\":[[\"$\",\"header\",null,{\"className\":\"relative w-full rounded-lg py-2 text-slate-300\",\"children\":[[\"$\",\"$L16\",null,{\"href\":\"/\",\"children\":[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"none\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"absolute -left-10 top-3 size-6 transition-colors hover:text-gray-400\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\",\"children\":[]}],[\"$\",\"polyline\",\"1\",{\"points\":\"9 22 9 12 15 12 15 22\",\"children\":[]}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}]}],[\"$\",\"h1\",null,{\"className\":\"text-2xl font-semibold tracking-wide\",\"children\":\"File Viewer\"}],[\"$\",\"p\",null,{\"className\":\"ml-4 mt-2 text-base text-gray-400\",\"children\":[[\"$\",\"span\",null,{\"className\":\"px-2 text-lg text-gray-200\",\"children\":\"/\"}],\"2025-10-18 The 3rd Universal Cup. Stage 18: Southeastern Europe\",[\"$\",\"span\",null,{\"className\":\"px-2 text-lg text-slate-300\",\"children\":\"/\"}],\"E\",[\"$\",\"span\",null,{\"className\":\"px-2 text-lg text-slate-300\",\"children\":\"/\"}],\"code.cpp\"]}],[\"$\",\"div\",null,{\"className\":\"absolute right-8 top-2 flex items-center gap-2\",\"children\":[[\"$\",\"a\",null,{\"href\":\"/Training-Archive/contests/2025-10-18 The 3rd Universal Cup. Stage 18: Southeastern Europe/problems/E/code.cpp\",\"download\":true,\"className\":\"rounded bg-gray-700 px-3 py-1 text-sm text-white hover:bg-gray-600\",\"children\":[[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"none\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"mr-2 inline-block text-base\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\",\"children\":[]}],[\"$\",\"polyline\",\"1\",{\"points\":\"7 10 12 15 17 10\",\"children\":[]}],[\"$\",\"line\",\"2\",{\"x1\":\"12\",\"y1\":\"15\",\"x2\":\"12\",\"y2\":\"3\",\"children\":[]}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}],\"Download\"]}],[\"$\",\"a\",null,{\"href\":\"/Training-Archive/contests/2025-10-18 The 3rd Universal Cup. Stage 18: Southeastern Europe/problems/E/code.cpp\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"rounded bg-gray-700 px-3 py-1 text-sm text-white hover:bg-gray-600\",\"children\":[[\"$\",\"svg\",null,{\"stroke\":\"currentColor\",\"fill\":\"none\",\"strokeWidth\":\"2\",\"viewBox\":\"0 0 24 24\",\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"mr-2 inline-block text-base\",\"children\":[\"$undefined\",[[\"$\",\"path\",\"0\",{\"d\":\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\",\"children\":[]}],[\"$\",\"polyline\",\"1\",{\"points\":\"14 2 14 8 20 8\",\"children\":[]}],[\"$\",\"line\",\"2\",{\"x1\":\"16\",\"y1\":\"13\",\"x2\":\"8\",\"y2\":\"13\",\"children\":[]}],[\"$\",\"line\",\"3\",{\"x1\":\"16\",\"y1\":\"17\",\"x2\":\"8\",\"y2\":\"17\",\"children\":[]}],[\"$\",\"polyline\",\"4\",{\"points\":\"10 9 9 9 8 9\",\"children\":[]}]]],\"style\":{\"color\":\"$undefined\"},\"height\":\"1em\",\"width\":\"1em\",\"xmlns\":\"http://www.w3.org/2000/svg\"}],\"Raw File\"]}]]}]]}],[\"$\",\"main\",null,{\"className\":\"mt-4 flex w-full items-start justify-center gap-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex-grow\",\"children\":[\"$\",\"$L17\",null,{\"code\":\"$18\",\"ext\":\".cpp\"}]}],\"$L19\"]}]]}]}]\n"])</script><script>self.__next_f.push([1,"19:[\"$\",\"div\",null,{\"className\":\"flex-shrink-0 basis-1/5 space-y-2 overflow-auto\",\"children\":[[\"$\",\"div\",null,{\"className\":\"overflow-auto\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"px-1 py-1 text-sm font-medium text-gray-300\",\"children\":\"File\"}],[\"$\",\"div\",null,{\"className\":\"rounded border-2 border-gray-400 bg-black/80 px-2 py-3 font-mono text-sm text-green-300\",\"children\":[[\"$\",\"div\",\"name\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Name\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-green-200\",\"children\":\"code.cpp\"}]]}],[\"$\",\"div\",\"size\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Size\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-yellow-400\",\"children\":\"8.902 KB (9116 B)\"}]]}],[\"$\",\"div\",\"submission_id\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Submission Id\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-green-200\",\"children\":\"#1539251\"}]]}],[\"$\",\"div\",\"problem_name\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Problem Name\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-green-200\",\"children\":\"Shrooks\"}]]}],[\"$\",\"div\",\"status\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Status\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-green-200\",\"children\":\"AC\"}]]}],[\"$\",\"div\",\"time\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Time\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-yellow-400\",\"children\":\"420ms\"}]]}],[\"$\",\"div\",\"memory\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Memory\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-yellow-400\",\"children\":\"28696kb\"}]]}],[\"$\",\"div\",\"language\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Language\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-green-200\",\"children\":\"C++14\"}]]}],[\"$\",\"div\",\"submit_time\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Submit Time\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-pink-400\",\"children\":\"2025/10/19 01:03:22\"}]]}],null,[\"$\",\"div\",\"submission_link\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Submission Link\",\"]\"]}],\" \",[\"$\",\"a\",null,{\"href\":\"https://qoj.ac/submission/1539251\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"text-indigo-400 underline hover:text-indigo-200\",\"children\":\"https://qoj.ac/submission/1539251\"}]]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"overflow-auto\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"px-1 py-1 text-sm font-medium text-gray-300\",\"children\":\"Problem\"}],[\"$\",\"div\",null,{\"className\":\"rounded border-2 border-gray-400 bg-black/80 px-2 py-3 font-mono text-sm text-green-300\",\"children\":[[\"$\",\"div\",\"name\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Name\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-green-200\",\"children\":\"Shrooks\"}]]}],[\"$\",\"div\",\"link\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Link\",\"]\"]}],\" \",[\"$\",\"a\",null,{\"href\":\"https://qoj.ac/contest/1849/problem/9785\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"text-indigo-400 underline hover:text-indigo-200\",\"children\":\"https://qoj.ac/contest/1849/problem/9785\"}]]}],[\"$\",\"div\",\"time_limit\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Time Limit\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-yellow-400\",\"children\":\"2.0 s\"}]]}],\"$L1a\",\"$L1b\",\"$L1c\",\"$L1d\"]}]]}],\"$L1e\"]}]\n"])</script><script>self.__next_f.push([1,"1a:[\"$\",\"div\",\"memory_limit\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Memory Limit\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-yellow-400\",\"children\":\"512 MB\"}]]}]\n1b:[\"$\",\"div\",\"solved\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Solved\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-cyan-400\",\"children\":\"true\"}]]}]\n1c:[\"$\",\"div\",\"submit_time\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Submit Time\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-pink-400\",\"children\":\"2025/10/19 01:03:22\"}]]}]\n1d:[\"$\",\"div\",\"solve_time\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Solve Time\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-pink-400\",\"children\":\"2025/10/19 01:02:09\"}]]}]\n"])</script><script>self.__next_f.push([1,"1e:[\"$\",\"div\",null,{\"className\":\"overflow-auto\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"px-1 py-1 text-sm font-medium text-gray-300\",\"children\":\"Contest\"}],[\"$\",\"div\",null,{\"className\":\"rounded border-2 border-gray-400 bg-black/80 px-2 py-3 font-mono text-sm text-green-300\",\"children\":[[\"$\",\"div\",\"name\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Name\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-green-200\",\"children\":\"The 3rd Universal Cup. Stage 18: Southeastern Europe\"}]]}],[\"$\",\"div\",\"date\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Date\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-pink-400\",\"children\":\"2025-10-18\"}]]}],[\"$\",\"div\",\"platform\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Platform\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-green-200\",\"children\":\"qoj\"}]]}],[\"$\",\"div\",\"start_time\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Start Time\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-pink-400\",\"children\":\"2025/10/18 13:00:50\"}]]}],[\"$\",\"div\",\"end_time\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"End Time\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-pink-400\",\"children\":\"2025/10/18 18:00:50\"}]]}],[\"$\",\"div\",\"link\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Link\",\"]\"]}],\" \",[\"$\",\"a\",null,{\"href\":\"https://qoj.ac/contest/1849\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"className\":\"text-indigo-400 underline hover:text-indigo-200\",\"children\":\"https://qoj.ac/contest/1849\"}]]}],[\"$\",\"div\",\"difficulty\",{\"className\":\"mb-1 break-all\",\"style\":{\"textIndent\":\"-1.2em\",\"paddingLeft\":\"1.2em\"},\"children\":[[\"$\",\"span\",null,{\"className\":\"text-blue-400\",\"children\":[\"[\",\"Difficulty\",\"]\"]}],\" \",[\"$\",\"span\",null,{\"className\":\"text-yellow-300\",\"children\":3.5}]]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"12:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\ne:null\n"])</script><script>self.__next_f.push([1,"10:{\"metadata\":[],\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"15:\"$10:metadata\"\n"])</script></body></html>